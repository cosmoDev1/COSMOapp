<mat-toolbar>
    <button mat-button [matMenuTriggerFor]="menu">
        <span class="material-symbols-outlined" style="vertical-align: middle">menu</span>
    </button>
    <mat-menu #menu="matMenu">
        <button (click)="newShelterDialog()" mat-menu-item>Create Shelter Account</button>
        <button (click)="newRescueDialog()" mat-menu-item>Create Rescue Group Account</button>
        <button (click)="newFosterDialog()" mat-menu-item>Create Foster Account</button>
        <button (click)="newNetworkerDialog()" mat-menu-item>Create Networker Account</button>
        <button mat-menu-item>Create Transport Account</button>
        <mat-divider></mat-divider>
        <button (click)="myAnimalsDialog()" mat-menu-item>My Animals</button>
        <button (click)="myFosterDialog()" mat-menu-item>My Fosters</button>
        <button mat-menu-item>My Transports</button>

        <mat-divider></mat-divider>
        <button mat-menu-item (click)="loginNew()">login</button>
        <button mat-menu-item (click)="logout()">Logout</button>
    </mat-menu>
    <span *ngIf="auth.user$ | async as user">Welcome, {{global.rescueName}} {{ user.email }}</span>
    <span class="example-spacer"></span>

    <button mat-button> <span class="material-symbols-outlined" style="vertical-align: middle">save_as</span> <span style="vertical-align: middle">Save Workspace</span></button>
    <button mat-button (click)="refresh()"> <span class="material-symbols-outlined" style="vertical-align: middle">refresh</span> <span style="vertical-align: middle">Refresh </span></button>

    <button mat-raised-button [matMenuTriggerFor]="notifications" color="primary" matBadge="8" matBadgePosition="after" matBadgeColor="accent">
        Notifications
    </button>
    <mat-menu #notifications="matMenu">
        <button mat-menu-item>New Foster Appl Submitted - 4</button>
        <button mat-menu-item>Foster Vet Attention Request - 1</button>
        <button mat-menu-item>New Adoption Request - 3</button>
    </mat-menu>

</mat-toolbar>




<mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
  <mat-tab label="Houston - BARC">
    <mat-form-field style="margin-right: 10px">
      <mat-label>City</mat-label>
      <mat-select [(ngModel)]='selectedCity'>
        <mat-option *ngFor="let city of cities" [value]="city.value">
          {{city.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Shelter</mat-label>
      <mat-select [(ngModel)]='selectedShelter'>
        <mat-option *ngFor="let shelter of shelters" [value]="shelter.value">
          {{shelter.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div style="width: 100%; text-align: center; margin-top: 30px" *ngIf="global.animals.length == 0">
      <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" style="margin-left: auto; margin-right: auto"> </mat-progress-spinner>
      <p>Loading data, please wait...</p>
    </div>

    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8" [style.display]="global.animals.length > 0 ? 'table' : 'none'">

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Quick Action </th>
            <td mat-cell *matCellDef="let element" style="min-width: 290px !important">
                <button mat-raised-button color="accent" (click)="tagAnimal(element.shelterAnimalID, element.name)" matTooltip="Request Tag" matTooltipPosition="right" style="margin-right: 8px; min-width: 56px !important" *ngIf="element.status==0"> <span class="material-symbols-outlined">new_label</span> </button>
                <button mat-raised-button color="primary" (click)="confirmTagAnimal(element.shelterAnimalID, element.name)" matTooltip="Confirm Tag" matTooltipPosition="right" style="margin-right: 8px; min-width: 56px !important" *ngIf="element.status==1"> <span class="material-symbols-outlined">check</span> </button>
                <button mat-raised-button matTooltip="Find Foster" matTooltipPosition="right" style="margin-right: 8px; min-width: 56px !important">  <span class="material-symbols-outlined">person_search</span> </button>
                <button mat-raised-button matTooltip="Edit Information" matTooltipPosition="right" style="margin-right: 8px; min-width: 56px !important">  <span class="material-symbols-outlined">edit_note</span> </button>
                <button mat-raised-button (click)="fosterPlea()" matTooltip="Plea" matTooltipPosition="right" style="min-width: 56px !important"> <span class="material-symbols-outlined">folded_hands</span> </button>
            </td>
        </ng-container>

        <ng-container matColumnDef="imageURL">
            <th mat-header-cell *matHeaderCellDef> Photo </th>
            <td mat-cell *matCellDef="let element">
                <img [src]="element.imageFile" style="height: 60px" matTooltip="{{element.shelterNotes}}" matTooltipPosition="right" (click)="animalDetail(element)" />
            </td>
        </ng-container>

        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
            <td mat-cell *matCellDef="let element">
                <div style="height: 30px; width: 30px; border-radius: 15px; background-color: red; border: 1px solid black" *ngIf="element.status==0" matTooltip="In Danger" matTooltipPosition="right"></div>
                <div style="height: 30px; width: 30px; border-radius: 15px; background-color: yellow; border: 1px solid black" *ngIf="element.status==1" matTooltip="Tag sent - waiting confirmation" matTooltipPosition="right"></div>
                <div style="height: 30px; width: 30px; border-radius: 15px; background-color: green; border: 1px solid black" *ngIf="element.status==2" matTooltip="Tag confirmed - waiting foster" matTooltipPosition="right"></div>
            </td>
        </ng-container>

        <ng-container matColumnDef="shelterAnimalID">
            <th mat-header-cell *matHeaderCellDef> ID </th>
            <td mat-cell *matCellDef="let element"> {{element.shelterAnimalID}} </td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.name | titlecase}} </td>
        </ng-container>

        <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
            <td mat-cell *matCellDef="let element"> {{element.gender | titlecase}} </td>
        </ng-container>

        <ng-container matColumnDef="breed">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Breed </th>
            <td mat-cell *matCellDef="let element"> {{element.breed | titlecase}} </td>
        </ng-container>

        <ng-container matColumnDef="weight">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Weight (lbs) </th>
            <td mat-cell *matCellDef="let element"> {{element.weight}} </td>
        </ng-container>

        <ng-container matColumnDef="age">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Age </th>
            <td mat-cell *matCellDef="let element"> {{element.age}} </td>
        </ng-container>

        <ng-container matColumnDef="reason">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Reason </th>
            <td mat-cell *matCellDef="let element"> {{element.reason}} </td>
        </ng-container>

        <ng-container matColumnDef="outcomeRequest">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Outcome Request </th>
            <td mat-cell *matCellDef="let element"> {{element.outcomeRequest}} </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator #paginator [pageSize]="25" [pageSizeOptions]="[5, 10, 25, 50, 100, 200]" showFirstLastButtons aria-label="Select page" [style.display]="global.animals.length > 0 ? 'block' : 'none'"> </mat-paginator>

  </mat-tab>
  <mat-tab label="Houston - Harris County">

  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <span class="material-symbols-outlined">
        add
      </span>
      <span>Add Worksheet</span>
    </ng-template>

  </mat-tab>
</mat-tab-group>